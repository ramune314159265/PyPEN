<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="index.css"/>
        <link rel="icon" href="../pypen.ico"/>
        <script type="text/javascript" src="graph.js"></script>
        <title>グラフ描画</title>
    </head>
    <body>
        <div id="whole">
            <h1>グラフ描画</h1>
            <p><a href="syntax.html#function">戻る</a></p>
            <div class="part">
            <p>グラフ描画(《レイアウト情報》,《値の配列》)のグラフ情報，値の配列についての説明。
                基本的には値をそのままPlotly.jsのnewPlotに渡していると考えてよい
                （だからここに書ききれない設定で，使えるものもたくさんある）。
            </p>
            </div>
            <h2>レイアウト情報</h2>
            <div class="part">
                <p>レイアウト情報は表のようなキーを持つ連想配列である。
                    値が「〜または連想配列」となっているものは，「〜」の値か，表にあるキーを持つ連想配列のどちらかを設定する。</p>
                <table class="def_table">
                    <tr><th>キー</th><th>値の型</th><th>設定される情報</th></tr>
                    <tr><td>title</td><td>文字列または連想配列</td><td>グラフのタイトル
                        <table>
                            <tr><th>キー</th><th>値</th><th>値の意味</th></tr>
                            <tr><td>text</td><td>文字列</td><td>グラフのタイトル</td></tr>
                            <tr><td>font</td><td>文字列または連想配列</td><td>フォント名
                                <table>
                                    <tr><th>キー</th><th>値</th><th>値の意味</th></tr>
                                    <tr><td>family</td><td>文字列</td><td>フォント名</td></tr>
                                    <tr><td>size</td><td>1以上の数値</td><td>文字サイズ</td></tr>
                                    <tr><td>color</td><td>文字列</td><td>文字色</td></tr>
                                </table>
                            </td></tr>
                        </table>
                    </td></tr>
                    <tr><td>showlegend</td><td>真偽</td><td>凡例を表示するか</td></tr>
                    <tr><td>legend</td><td>連想配列</td><td>凡例詳細
                        <table>
                            <tr><th>キー</th><th>値の型</th><th>値の意味</th></tr>
                            <tr><td>bgcolor</td><td>文字列</td><td>背景色</td></tr>
                            <tr><td>bordercolor</td><td>文字列</td><td>枠色</td></tr>
                            <tr><td>borderwidth</td><td>0以上の数値</td><td>枠の太さ(px)</td></tr>
                            <tr><td>font</td><td>文字列または連想配列</td><td>フォント名（連想配列のキーはtitleのfontと同じ）</td></tr>
                            <tr><td>orientation</td><td>"v"または"h"</td><td>凡例の向き</td></tr>
                        </table>
                    </td></tr>
                    <tr><td>width</td><td>10以上の数値</td><td>幅(px)</td></tr>
                    <tr><td>height</td><td>10以上の数値</td><td>高さ(px)</td></tr>
                    <tr><td>font</td><td>文字列または連想配列</td><td>全体的なフォント（連想配列のキーはtitleのfontと同じ）</td></tr>
                    <tr><td>paper_bgcolor</td><td>文字列</td><td>背景色</td></tr>
                    <tr><td>plot_bgcolor</td><td>文字列</td><td>プロットエリアの背景色</td></tr>
                    <tr><td>xaxis,yaxis</td><td>連想配列</td><td>x軸，y軸の情報。
                        <table>
                            <tr><th>キー</th><th>値の型</th><th>値の意味</th></tr>
                            <tr><td>title</td><td>文字列または連想配列</td><td>軸タイトル（連想配列のキーはtitleと同じ）</td></tr>
                            <tr><td>showgrid</td><td>真偽</td><td>グリッドを表示するか</td></tr>
                            <tr><td>showline</td><td>真偽</td><td>軸の線を表示するか</td></tr>
                            <tr><td>zeroline</td><td>真偽</td><td>ゼロの線を強調するか</td></tr>
                            <tr><td>range</td><td>値の配列</td><td>[最小値,最大値]</td></tr>
                        </table>
                    </td></tr>
                </table>
            </div>

            <h2>値の配列</h2>
            <div class="part">
                <p>「値の配列」は，以下のキーを持つ連想配列の配列である。</p>
                <table class="def_table">
                    <tr><th>キー</th><th>値の型</th><th>設定される情報</th></tr>
                    <tr><td>type</td><td>文字列</td><td>グラフの種類</td></tr>
                    <tr><td>name</td><td>文字列</td><td>データ系列の名前</td></tr>
                    <tr><td>visible</td><td>真偽または"legendonly"</td><td>表示するかどうか</td></tr>
                    <tr><td>showlegend</td><td>真偽</td><td>凡例に表示するか</td></tr>
                    <tr><td>opacity</td><td>0〜1の数値</td><td>不透明度</td></tr>
                    <tr><td>ids</td><td>値の配列</td><td>個々の値のid</td></tr>
                    <tr><td>text</td><td>文字列または文字列の配列</td><td>個々の値に紐付けられた文字列</td></tr>
                </table>
                <p>typeがscatterの場合，次のキーも持つ。<br>
                    <script>make_link('例1','eJyNj79Kw1AUxvc-RblTKgGTO4j0VUKGiwbMYBG9g6FkODci2AoVqRQ7iQiiLh0V_-QNfAg_Yrr5Cjk5gy5FvcvHOff3fR9n21gTfhyfDZXN9hLVVwdbxtpkX_ldNTC7skkH74_tfKj6UcyatZp3Wqv-06pXelO48xA0hjvZ0JugN9Atz3PQTXU9gzsCzUD3oFMm6qcF3GhZTkGXXy_zTpef3Ums4fJ0PQwC2cglERfFoAf55o5l-VqNrtgHN_6m9L8ozsqE4iM8IXu_BP6gem01DLdAcYfi4nMyqafP3jD3I-nxJSLuNcyvsHQ');</script>
                    <script>make_link('例2','eJyNkM9Kw0AQxu95ijKnti6Y5Fh8k5DDYnIQSStpDllKD7OVgm2hKtViQRApiBUhR8U_fRfH2N58hU5WBZEW3MMEPr75fd8kkIl03rrHLUjUQQg1aO7KJAljECWIGkGhRDLeD-MmCEih5vkCVPFpW8Wqy6sGYe2RPnUI-6SPHNu2CV8Jb1iYEE7z6zHpQ8Ix4YxwwJbFY0a6t5yPCC8-nydWiV_KrFjWg0ZUZkJlm4fR1QadtGZkWq26W4rHDofNGE2Y_RCLZ9p5XN0nvEu55HL-kveuOJd0_69LGZda5yK8JOzyTeaGE9KDNUHuv4LYtSHou0ZdRiH4fDa8P9zD14_-rebTc7As0hl1bqlz9jEcLkZP5VZbeAYgzIJfWQGB2tSV');</script>
                </p>
                <table class="def_table">
                    <tr><th>キー</th><th>値の型</th><th style="width: 70%;">設定される情報</th></tr>
                    <tr><td>x</td><td>値の配列</td><td>xの値，または横軸のラベル</td></tr>
                    <tr><td>y</td><td>値の配列</td><td>yの値</td></tr>
                    <tr><td>mode</td><td>文字列</td><td>表示モード。"lines","markers","lines+markers","lines+markers+text"のどれか。
                        デフォルトでは，点が20個以上なら"lines"，19個以下なら"lines+markers"になる。</td></tr>
                    <tr><td>marker</td><td>連想配列</td><td>マーカーのプロパティ
                        <table>
                            <tr><th>キー</th><th>値の型</th><th style="width: 70%;">設定される情報</th></tr>
                            <tr><td>symbol</td><td>文字列</td><td>形状。"circle", "square", "diamond", "cross", "triangle-up", "triangle-down",
                                "triangle-right", "triangle-left", "triangle-se", "triangle-sw", "triangle-ne", "triangle-nw",
                                "pentagon", "hexagon", "hexagon2", "octagon", "star", "hexagram", "star-triangle-up", "star-triangle-down",
                                "diamond-tall", "diamond-wide", …や，それらの後ろに"-open","-dot","-open-dot"を付けたもの。
                            </td></tr>
                            <tr><td>size</td><td>0以上の数値</td><td>大きさ(px)</td></tr>
                            <tr><td>color</td><td>文字列</td><td>色</td></tr>
                            <tr><td>opacity</td><td>0〜1の数値</td><td>不透明度</td></tr>
                            <tr><td>line</td><td>連想配列</td><td>輪郭線
                                <table>
                                    <tr><th>キー</th><th>値の型</th><th>設定される情報</th></tr>
                                    <tr><td>width</td><td>0以上の数値</td><td>太さ(px)</td></tr>
                                    <tr><td>color</td><td>文字列</td><td>色</td></tr>
                                </table>
                            </td></tr>
                        </table>
                    </td></tr>
                    <tr><td>opacity</td><td>0〜1の数値</td><td>不透明度</td></tr>
                    <tr><td>line</td><td>連想配列</td><td>線のプロパティ
                        <table>
                            <tr><th>キー</th><th>値の型</th><th>設定される情報</th></tr>
                            <tr><td>color</td><td>文字列</td><td>色</td></tr>
                            <tr><td>width</td><td>0以上の数値</td><td>太さ(px)</td></tr>
                            <tr><td>shape</td><td>文字列</td><td>線の引き方。"linear", "spline", "hv", "vh", "hvh", "vhv"のどれか。</td></tr>
                            <tr><td>dash</td><td>文字列</td><td>線の形状。"solid", "dot", "dash", "longdash", "dashdot", "longdashdot"のどれか。</td></tr>
                        </table>
                    </td></tr>
                </table>
                <p>typeがbarの場合<br>
                    layoutのbarmodeをstackに設定することで積み上げ棒グラフが作れる。<br>
                    <script>make_link('例1','eJxVjDHKwkAQhfucQl6lMMXMrhbmKssWK6ZURFIYQkAM_NjFQru_tLGz9zYuxmsk2UXB6jHzve8tXe7k-XcqkRebDCkWbgsaYYfUQNr_Iwgqho4xHcJWyWCq3gwL4RKDArZ_GWEmxTRj0mxj88s0kzDNh0JEvbZ2qyxQvPZXwcf4eSskiT_cfX3z9aVtmvf5MS4rMmGCgmEnHRE-TQQ');</script>
                    <script>make_link('例2','eJxVjrHKwkAQhPs8hUylsMXeRQvzKscV559UEhVNYQgB-QNiFwvtLG3s7H0bg_E1krtDwWrYnfmGiU1mxHN_LJDlqwQRZmYNGmCLSEG0lwMI0kvoZWxFl4ElZU-6BncJhRy6fynBTJJpwhSy9smvFzIJpqkNeKvHFiZNnIvX7irwIX7eEkHQ_N-b6tZU57au36fHsLBz02Vsh28y8zdHScp1kqvQow5jo1K2');</script>
                </p>
                <table class="def_table">
                    <tr><th>キー</th><th>値の型</th><th>設定される情報</th></tr>
                    <tr><td>x</td><td>配列</td><td>横軸のラベル</td></tr>
                    <tr><td>y</td><td>数値の配列</td><td>値</td></tr>
                    <tr><td>marker</td><td>連想配列</td><td>棒のプロパティ
                        <table>
                            <tr><th>キー</th><th>値の型</th><th>設定される情報</th></tr>
                            <tr><td>color</td><td>文字列</td><td>色</td></tr>
                            <tr><td>line</td><td>連想配列</td><td>輪郭線のプロパティ（scatterのmakerのlineと同じ）</td></tr>
                        </table>
                    </td></tr>
                    <tr><td>opacity</td><td>0〜1の数値</td><td>不透明度</td></tr>
                </table>
                <p>typeがpieの場合<br>
                    <script>make_link('例1','eJw9jDGqwkAURfss41aKU8wk2riAv4mQYtQnBMYkJKMoISAGPnax0M7Sxs7e3RiM24hOHKsD5537ZlJL8fg_5NCbhDBGEhIKx2gfSk5IZQjegQ_RnPdgcDt4HYYfBLZfSbWkby84Zy5nI848_gsiuSBzxnN7EbA6i1Nt9J9UGVmraa3DaB53A_N7kFA6pUjDcerdrS6vdXlqqup1vPfygvlmGPRbUQpSyA');</script>
                    <script>make_link('例2','eJxVzUFKxTAQBuB9TyGzUhgkSetDewAvEbKIOOKDmBSTJ0opiAVxVxe6c-nGnXtvY_F5jZcmFuxqmH9-vjnXQfPvx-cWwl1DUEOzJsA9MPqMjIdaAt--PQGCyKPMo5qGij3vrgPUp9p4ilug27C2Fy461lmCrph8Ef30J21cwo02G_KgYi45YygYHjEsmZoLVl9ROsPP_TuHOb50JsfscJXlpXXCsJocXP1R8b6gRKZi_I86Lorx4XPsP8b-dTsMvy9f-22HMv3EVFcHO6-ja_Y');</script>
                </p>
                <table class="def_table">
                    <tr><th>キー</th><th>値の型</th><th>設定される情報</th></tr>
                    <tr><td>values</td><td>数値の配列</td><td>値</td></tr>
                    <tr><td>labels</td><td>値の配列</td><td>値のラベル</td></tr>
                    <tr><td>text</td><td>値の配列</td><td>各値に紐付けられた文字列</td></tr>
                    <tr><td>marker</td><td>連想配列</td><td>扇形のプロパティ
                        <table>
                            <tr><th>キー</th><th>値の型</th><th>設定される情報</th></tr>
                            <tr><td>colors</td><td>文字列の配列</td><td>色</td></tr>
                            <tr><td>line</td><td>連想配列</td><td>輪郭線（scatterのmarkerのlineと同じだが，それぞれ配列にもできる）</td></tr>
                        </table>
                    </td></tr>
                    <tr><td>opacity</td><td>0〜1の数値</td><td>不透明度</td></tr>
                    <tr><td>pull</td><td>0〜1の数値</td><td>中心から外側に離す割合</td></tr>
                    <tr><td>direction</td><td>文字列</td><td>向き。"clockwise"か"counterclockwise"。</td></tr>
                    <tr><td>hole</td><td>0〜1の数値</td><td>穴の大きさ（ドーナツチャートを作るために）</td></tr>
                    <tr><td>rotation</td><td>-360〜360の数値</td><td>開始角度</td></tr>
                    <tr><td>sort</td><td>真偽</td><td>ソートするか</td></tr>
                    <tr><td>textinfo</td><td>文字列</td><td>円グラフ内に表示する情報。
                        "label", "text", "value", "percent"のどれかか，それらを"+"でつないだもの。
                        表示しないなら"none"
                    </td></tr>
                </table>
                <p>typeがboxの場合<br>
                    <script>make_link('例1','eJytkc1Kw0AUhffzFOWuEgyYpLu-SshipEECNpEapaEEnIkItkJFKsWuRAqiIhTEhfjTd_EQ252v0Ot0IUJx5WwyQ-Y752NuU2bS-zg-61KW70bUoK20Q06NcmoEIX_TdhwlmcziNOGfB1SIb8JnwpAihj73oPrQJ57rQr1D3fB5DDWprkfQR1AjqDuoU74xf55C9xazIdTl1-tY1HiZmID7Qqh7qy2TZtqyPNfe-Nnamz63LGZvVe-KSei-kWAqka2IQpYh6CfoCfQjyge_OuyT-B81_2-1X5b1dZYcsN6yvrLckXm6n5kJ5LIT71GjSxy6zbMIXMdzw6IQAnqK8hblxedgMB--WCvICcwzOKYmtJf2CdZS');</script>
                </p>
                <table class="def_table">
                    <tr><th>キー</th><th>値の型</th><th>設定される情報</th></tr>
                    <tr><td>x</td><td>数値の配列</td><td>値（横型で表示する場合）</td></tr>
                    <tr><td>y</td><td>数値の配列</td><td>値（縦型で表示する場合）</td></tr>
                    <tr><td>orientation</td><td>文字列</td><td>向き。"v"か"h"</td></tr>
                    <tr><td>marker</td><td>連想配列</td><td>
                        <table>
                            <tr><th>キー</th><th>値の型</th><th>設定される情報</th></tr>
                            <tr><td>outliercolor</td><td>文字列</td><td>外れ値の色</td></tr>
                            <tr><td>symbol</td><td>文字列</td><td>マーカーの形状（scatterのmarkerのsymbolと同じ）</td></tr>
                            <tr><td>opacity</td><td>0〜1の数値</td><td>不透明度</td></tr>
                            <tr><td>size</td><td>0以上の数値</td><td>マーカーのサイズ(px)</td></tr>
                            <tr><td>color</td><td>文字列</td><td>マーカーの色</td></tr>
                        </table>
                    </td></tr>
                    <tr><td>line</td><td>連想配列</td><td>箱ひげ図の線。colorとwidthがキー</td></tr>
                    <tr><td>boxmean</td><td>真偽または"sd"</td><td>平均を表示するか。"sd"では標準偏差も表示する。</td></tr>

                </table>
                <p>typeがhistogramの場合<br>
                    <script>make_link('例1','eJytj81Kw0AUhfd5CrmrBAMm6a6vErIYaNAskkgMopSCcyOCjVCRSrErkYKoCAVxIf70XTzEducr9DouRCiunNUMnO-cbzqqVP770WmXyv3tmNq0leyU-WahUnJpj9ph5FJeJHFWqjLJMwnsUs_6ogKhDG0l4DMfugYf-54H_QZ9Le8x9KS5GoEPoUfQt9Ankpg_TcH9xWwIffH5MrbW5JiaUOYi6Du7UFknT23fc9Z_rs5GICuL2WvTvxQSXBsJoTKVxhSJDIEfwRPwA6r7oDmoyfofteBvtV-WrVWWUrDasvVtCZ6iukF1_jEYzIfPdrfnhuZ3rqEjZwny7cmo');</script>
                </p>
                <table class="def_table">
                    <tr><th>キー</th><th>値の型</th><th>設定される情報</th></tr>
                    <tr><td>x</td><td>数値の配列</td><td>値（横型で表示する場合）</td></tr>
                    <tr><td>y</td><td>数値の配列</td><td>値（縦型で表示する場合）</td></tr>
                    <tr><td>orientation</td><td>文字列</td><td>向き。"v"か"h"</td></tr>
                    <tr><td>marker</td><td>連想配列</td><td>ヒストグラムのプロパティ</td></tr>
                </table>
            </div>
            <p>Plotly.jsは高機能すぎて，とてもではないが書ききれない。</p>
        </div>
    </body>
</html>
